
<app-page-template [headerFixed]="true" pageTitle="Planejamento">
    <div header-right>
        
    </div>
    <div class="page-content">
        

        <div class="flex justify-end">
            <p-datepicker [(ngModel)]="selectedDate" view="month" dateFormat="mm/yy" [readonlyInput]="true" class="w-15rem"
                [iconDisplay]="'input'" [showIcon]="true" />
        </div>

        
        <app-budget-summary [selectedDate]="dateString()" />
        

        
        <app-card>
            <div class="categories-list">
                @for (item of categoriesBudget(); track item.categoryId) {
                <app-budget-item (onSelecteCategory)="onEditSelectedCategory($event)" [categoryExpense]="item" [budget]="getCategoryBudget(item.categoryId)" />
                }@empty {
                <div class="flex flex-col gap-5 items-center ">
                    <p class="text-center max-w-[600px]">Você ainda não criou nenhuma categoria. Crie uma para poder planejar seus gastos
                        mensais.</p>
                    <p-button label="Criar categoria" (click)="router.navigate(['categories'])" />
                </div>
                }
            </div>
        </app-card>

       
    </div>
</app-page-template>


<app-transaction-form />
<app-budget-assessment [visible]="editSelectedCategoyVisible()" (visibleChange)="editSelectedCategoyVisible.set($event)"
    [selectedCategory]="selectedCategory()!" [selectedDate]="selectedDate()" />